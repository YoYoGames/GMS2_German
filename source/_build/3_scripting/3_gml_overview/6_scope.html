<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="keywords" content="online documentation, web online help, web help, chm2web" />
<meta http-equiv="Content-Style-Type" content="text/css" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

<meta name="generator" content="chm2web Pro 2.85 (unicode)" />
<title>Variables And Variable Scope</title>
<meta http-equiv="X-UA-Compatible" content="IE=9">

<link rel="stylesheet" href="../../../../files/helpindex.css" type=
"text/css">
<link rel="stylesheet" href="../../../../default.css" type=
"text/css">

<script type="text/JavaScript" src="../../../../files/supply.js"></script>
<script type="text/JavaScript">
chmtop.c2wtopf.pageid = "_build/3_scripting/3_gml_overview/6_scope.html";
</script>

</head>
<body><script type="text/JavaScript"> 
if (window.name != "content") 
  document.write(" <table width=\"100%\" bgcolor=\"#e1e1e1\"cellspacing=\"2\" cellpadding=\"0\" style=\"border-collapse: collapse; font-family: sans-serif; font-size: 14px; color: #000000; text-decoration: none;  \"> <tr> <td align=\"center\" style=\"border-bottom: 2px solid gray\" > <br>&nbsp;Click <a href=\"../../../../index.html?page=source%2F_build%2F3_scripting%2F3_gml_overview%2F6_scope.html\">here</a> to show toolbars of the Web Online Help System: <a href=\"../../../../index.html?page=source%2F_build%2F3_scripting%2F3_gml_overview%2F6_scope.html\">show toolbars</a><br>&nbsp;</td></tr></table><br> "); 
</script>
<!-- !chm2web! --><script type="text/JavaScript">
 if( typeof(chmtop.helpStyle) != 'undefined' ) { var linkNodes = document.getElementsByTagName("link");  for( var i=0; i < linkNodes.length; ++i ) { var link = linkNodes[i];    if( link.href.endsWith("default.css")) {    var style = link.href.replace("default.css", chmtop.helpStyle); document.write('<link id="newstyleLink" rel="stylesheet" href=' + style + ' type="text/css">');    break; } } } 
</script><h2> Variablen und variabler Umfang </h2><div class="body-scroll"><p><br></p><p> Wie jede Programmiersprache verwendet <b>GML</b> <i>Variablen</i> als Basiseinheit für die meisten Programmiervorgänge. Variablen werden zum Speichern von Informationen im Gerätespeicher für eine spätere (oder sofortige) Verwendung verwendet. Sie erhalten einen Namen, damit Sie in Funktionen und Skripts darauf zurückgreifen können. Eine Variable in <b>GML</b> kann viele verschiedene Datentypen speichern, z. B. eine reelle Zahl (wie 100, 2.456575, -56 usw.), eine Zeichenfolge (wie &quot;Hallo Welt!&quot;), Eine Ganzzahl (wie 1, 556, -7) ) oder ein Boolean ( <tt>true</tt> oder <tt>false</tt> ). </p><p> Eine Variable ist etwas, das wir verwenden, um einen Wert zur Verwendung in einer oder mehreren Operationen oder Funktionen zu speichern. Denken Sie zum Beispiel an &quot;pi&quot;... es ist eine Variable der realen Welt, die den Wert 3.14159265 (etc...) enthält. Warum? Nun, es ist viel einfacher, jemandem &quot;pi&quot; als &quot;drei Punkte eins vier eins fünf neun zwei sechs fünf&quot; zu sagen! Also, die Dinge zu benennen macht das Leben viel einfacher und es bedeutet auch, dass sollte der Wert dieser Variablen jemals ändern, wir müssen nicht überall die Nummer ändern, wie der <i>Variablenname</i> immer noch das gleiche ist. In <b>GML hat</b> eine Variable einen Namen, der mit einem Buchstaben beginnen muss und nur Buchstaben, Zahlen und das Unterstreichungssymbol &#39;_&#39; mit einer maximalen Länge von 64 Symbolen enthalten darf. Gültige Variablen sind also Dinge wie <tt>fish</tt>. <tt>foo_bar</tt>. <tt>num1</tt> und ungültige Variablen wären <tt>6fish</tt>. <tt>foo bar</tt>, oder <tt>*num</tt>. </p><p> In vielen Programmiersprachen müssen Sie eine Variable &quot;deklarieren&quot;, bevor Sie sie verwenden können. Dies bedeutet im Wesentlichen, dass Sie dem Computer den Namen nennen, den Sie verwenden möchten, damit er einen Speicherplatz zuweisen kann, um den Wert zu speichern, den Sie in dieser Variablen speichern möchten. Bei <b>GML</b> ist dies nicht immer erforderlich, da es vom <i>Umfang</i> der Variablen abhängt. Wenn Sie mit <i><span class="notranslate">GameMaker Studio 2</span></i> programmieren, gibt es vier <i><span class="notranslate">GameMaker Studio 2</span></i> und jede hat ihren eigenen <i>Geltungsbereich</i> (der als Betriebsbereich oder Reichweite betrachtet werden kann). Diese Variablen und ihr Geltungsbereich werden nachfolgend beschrieben: </p><blockquote> <label class="collapse" for="one">Instanzvariablen</label> <input id="one" type="checkbox"><div class="index_list"><p> Eine Instanzvariable wird innerhalb einer Instanz eines Objekts erstellt und gilt als eindeutig für diese Instanz, dh, viele Instanzen desselben Objekts können dieselbe Variable haben, aber jede Variable kann einen anderen Wert enthalten, da sie für jede Instanz eindeutig ist. Aber <i>wie</i> wird eine Instanzvariable erstellt? Nun, Sie erstellen neue Variablen, indem Sie ihnen einfach einen Wert zuweisen, wie in diesem kleinen Beispiel gezeigt: </p><p class="code">potions = 12;<br>
life = 100;<br>
name = "Jock MacSweeney";<br>
strength = 5.5;<br>
armour = -2;<br><span class="notranslate"></span></p><p> Wie Sie sehen, müssen Sie nur den Namen und dann einen Wert (entweder numerisch oder eine Zeichenfolge) angeben, um diese Variable festzulegen und zur Verwendung innerhalb einer Instanz des Objekts, das Sie codieren, bereit zu haben. Diese Variablen können dann auf verschiedene Weise innerhalb der Instanz verwendet und modifiziert werden. Beispielsweise könnte dieser Code in einem Kollisionsereignis enthalten sein und dazu verwendet werden, einen Betrag von der Variablen &quot;life&quot; abzuheben: </p><p class="code">life -= 5 + armour;<br><span class="notranslate"></span></p><p> Wenn &quot;Leben&quot; bei 100 ist, hat es jetzt einen Wert von 97 (100 - (5 + -2) = 97). Nun, das ist ein einfaches Beispiel, und Sie <i>könnten</i> &quot;Rüstung&quot; für den tatsächlichen Wert von -2 ersetzen. Was passiert jedoch, wenn Sie diesen Wert an mehreren Stellen verwenden und dann entscheiden, ihn zu ändern? Sie müssten den gesamten Code durchgehen und alle -2 in den neuen Wert ändern, was zeitaufwendig und sehr fehleranfällig ist! Wenn Sie jedoch eine Variable verwenden, müssen Sie ihr lediglich einen neuen Wert zuweisen, und der Code verwendet diesen neuen Wert automatisch. Ab diesem Zeitpunkt werden die Dinge viel flexibler und einfacher zu beheben, falls ein Problem auftritt. Es sollte auch beachtet werden, dass, selbst wenn sich ein Wert nicht ändert, es viel einfacher ist, sich daran zu erinnern, was eine Variable namens &quot;Leben&quot; bedeutet, als nur eine Zahl zu betrachten. </p><p> <i><span class="notranslate">GameMaker Studio 2</span></i> verfügt auch über eine Sammlung von &quot;eingebauten&quot; Instanzvariablen. Sie sollten sich also dessen bewusst sein, da Sie möglicherweise eine Ihrer eigenen Instanzvariablen gleich benennen oder Ihre eigene globale Variable mit demselben Namen haben möchten und sich fragen, warum Sie dies tun Fehler bekommen. Sie sind jedoch leicht zu erkennen, da sie im Code-Editor in einer anderen Farbe angezeigt werden und auch in der Auto-Completion-Leiste unten angezeigt werden. </p><p> Es gibt eine Reihe von Funktionen, die Ihnen beim Umgang mit Instanzvariablen helfen sollen (hauptsächlich zur Verwendung mit <a href=
"../../1_overview/3_additional_information/obsolete_functions.html">Compatibility Scrpts</a> für importierte Projekte und dem Code für Drag &amp; Drop-Aktionen, sie können jedoch auch an anderer Stelle verwendet werden): </p><ul><li> <a href=
"variable_functions/variable_instance_exists.html"><tt>variable_instance_exists</tt></a> </li><li> <a href=
"variable_functions/variable_instance_get.html"><tt>variable_instance_get</tt></a> </li><li> <a href=
"variable_functions/variable_instance_set.html"><tt>variable_instance_set</tt></a> </li><li> <a href=
"variable_functions/variable_instance_get_names.html"><tt>variable_instance_get_names</tt></a> </li></ul></div><br> <label class="collapse" for="two">Lokale Variablen</label> <input id="two" type="checkbox"><div class="index_list"><p> Eine lokale Variable ist eine, die wir für ein bestimmtes Ereignis erstellen <i>nur</i> dann verwerfen, wenn das <b>Ereignis</b> (die einzige Ausnahme ist in den Script - Ressourcen beendet hat, wo ein <tt>var</tt> Die deklarierte Variable ist lokal für das Skript und wird dann verworfen. Warum brauchen wir sie? Nun, Variablen nehmen Speicherplatz in Anspruch und es kann sein, dass wir sie nur für eine Operation oder Funktion verwenden. In diesem Fall brauchen wir sie nur für die kurze Zeit im Speicher, in der sie verwendet werden. Dadurch bleibt Ihre Codebasis sauber und aufgeräumt, und der Speicherplatz ist für die Dinge optimiert, die er wirklich benötigt. Um eine lokale Variable zu deklarieren, verwenden wir die Funktion <tt>var</tt> so was: </p><p class="code">var i, num, str;<br>
i = 0;<br>
num = 24.5;<br>
str = "Hi there!";<br><span class="notranslate"></span></p><p> Alle oben erstellten Variablen werden am Ende des Ereignisses (oder Skripts), in dem sie erstellt wurden, &quot;vergessen&quot; (dh aus dem Speicher entfernt). Sie müssen auf den Namen achten, den Sie angeben <tt>var</tt> deklarierte Variablen stimmen nicht mit einer anderen Instanzvariablen innerhalb des Objekts überein, das den Code ausführt, und stellen Sie außerdem sicher, dass Sie nicht beabsichtigen, den in dieser Variablen gespeicherten Wert außerhalb des Ereignisses zu verwenden, in dem sie deklariert werden. Diese Variablen werden häufig in Programmen verwendet. insbesondere in Schleifen zum Zählen von Iterationen oder wenn ein Wert mehrmals in einem Vorgang verwendet wird, der nicht noch einmal wiederholt wird. Hier noch ein paar Beispiele: </p><p class="code">var i = 0;<br>
repeat (10)<br>
&nbsp;&nbsp;&nbsp;{<br>
&nbsp;&nbsp;&nbsp;inventory[i] = 0;<br>
&nbsp;&nbsp;&nbsp;i+=1;<br>
&nbsp;&nbsp;&nbsp;}<br><span class="notranslate"></span></p><p> Der obige Code erstellt eine lokale Variable mit dem Namen &quot;i&quot; und setzt sie auf 0, alles in derselben Zeile. Beachten Sie, dass in früheren Versionen von <i><span class="notranslate">GameMaker</span></i> Sie hatten Ihre lokale Variablen zuerst zu erklären und ihnen <i>dann</i> Werte zuweisen, aber in dieser Version können Sie erklären, <i>und</i> weisen Sie einen Wert in der gleichen Zeit. Der obige Code verwendet dann diese Variable, um ein Array zu initialisieren. Da die Variable &quot;i&quot; in dieser Instanz nicht für weitere Funktionen verwendet wird, kann sie lokal sein. Hier ist ein weiteres Beispiel: </p><p class="code">var xx,yy;<br>
xx = x - 32 +irandom(64);<br>
yy = y - 32 +irandom(64);<br>
instance_create_layer(xx, yy, "Effects", obj_blood);<br><span class="notranslate"></span></p><p> Hier haben wir die lokalen Variablen verwendet, um einige zufällige Koordinaten zu speichern, mit denen wir dann eine Instanz erstellen. In diesem Beispiel können Sie sehen, dass es nicht zwingend erforderlich ist, dass wir diese Variablen verwenden, aber aus Gründen der Lesbarkeit und Benutzerfreundlichkeit. Es ist viel klarer und offensichtlich, was wir dort tun, als wenn wir diesen Code verwenden würden: </p><p class="code">instance_create_layer(x - 32 + irandom(64), y - 32
+ irandom(64), "Effects", obj_guts);<span class="notranslate"></span></p><p> Eine andere Sache über <tt>var</tt> Deklarierte Variablen sollten beachtet werden... Da sie für das Ereignis, das sie ausführt, eindeutig sind, können sie auch in anderen Fällen durch Code verwendet werden! Das bedeutet, dass wir diese Variablen verwenden können, um Dinge in anderen Instanzen mithilfe des &quot;with ()&quot; - Konstrukts festzulegen und zu ändern (dazu gibt es einen Abschnitt im Abschnitt &quot; <b>GML-Übersicht</b> &quot; des Handbuchs). Der eigentliche Code selbst würde ungefähr so ​​aussehen: </p><p class="code">var num = instance_number(obj_Enemy);<br>
with (obj_Enemy)<br>
&nbsp;&nbsp;&nbsp;{<br>
&nbsp;&nbsp;&nbsp;if num&gt;10 instance_destroy();<br>
&nbsp;&nbsp;&nbsp;}<br><span class="notranslate"></span></p><p> Der obige Code funktioniert, weil die <tt>var</tt> Die deklarierte Variable ist lokal für das <i>Ereignis</i> (oder das Skript), in dem sie enthalten ist, nicht die Instanz oder die Spielwelt. Sie kann daher in jeder Funktion in einem Objekt verwendet werden, solange sie sich im selben Codeblock befindet. </p></div><br> <label class="collapse" for="three">Globale Variablen</label> <input id="three" type="checkbox"><div class="index_list"><p> Eine grundlegende Beschreibung einer globalen Variablen ist eine, die nach der Deklaration keiner bestimmten Instanz angehört und dennoch für alle zugänglich ist. Wie bei lokalen Variablen müssen auch globale Variablen deklariert werden. Im Gegensatz zu lokalen Variablen bleibt eine globale Variable jedoch bis zum Ende des Spiels im Speicher. Sie können also eine globale Variable erstellen, um (z. B.) die Anzahl der Aufzählungen des Spielers zu verfolgen, und diese Variable dann an verschiedenen Punkten im Spiel aktualisieren. Eine globale Variable gehört keiner bestimmten Instanz an und kann jederzeit von allen Instanzen abgerufen, geändert und verwendet werden. Jede an der Variablen vorgenommene Änderung ist jedoch &quot;global&quot;, dh alle Instanzen, die die Variable verwenden, werden von der Änderung betroffen sein. Schauen wir uns ein Beispiel an: </p><p class="code">global.food = 5;<br><span class="notranslate"></span></p><p> Wir deklarieren die Variable &quot;food&quot;, indem wir zuerst &quot;global&quot; und dann ein &quot;.&quot; um <i><span class="notranslate">GameMaker Studio 2</span></i> mitzuteilen, dass diese Variable jetzt global ist. Wir werden diese Methode ab jetzt verwenden, wenn wir auf diese Variable zugreifen oder diese ändern möchten. Wir haben also eine neue Variable mit dem Namen &quot;food&quot; erstellt und diese als global deklariert. Nun kann jede Instanz diese Variable beliebig verwenden und ändern, und alle anderen Instanzen werden dies &quot;sehen&quot;. Zum Beispiel könnten wir ein anderes Nahrungsmittelobjekt haben, mit dem der Spieler kollidiert, und in dem Kollisionsereignis, das wir haben: </p><p class="code">global.food +=1;<br><span class="notranslate"></span></p><p> Wir haben auch ein anderes Objekt, das diesen Wert wie folgt zeichnet: <br></p><p class="code">draw_text(32, 32, "food = " +
string(global.food));<br><span class="notranslate"></span></p><p> Mit globalen Variablen können wir Werte ändern und die Änderungen in allen Instanzen der Objekte sehen, die auf diese Variable verweisen. Wie bei <i>lokalen</i> Variablen müssen Sie darauf achten, dass Sie Ihre globalen Variablen nicht so benennen wie alle Instanzvariablen, da dies Probleme mit sich bringt und Fehler in Ihre Spiele dringen, da sich die Variablen überschneiden. Dies kann manchmal schwierig zu debuggen sein. Im Allgemeinen sollten Sie über ein einzelnes Skript oder ein Objekt verfügen, das alle Ihre globalen Variablen gleich zu Beginn des Spiels deklariert (z. B. beim Room-Start-Ereignis), sodass sie initialisiert und für jede Instanz bereit sind, und dies auch gibt Ihnen einen praktischen Ort, an den Sie zurückgehen können, um einen Verweis zu finden, falls Sie einen Variablennamen überprüfen müssen. </p><p> <i><span class="notranslate">GameMaker Studio 2</span></i> verfügt auch über eine Sammlung von &quot;eingebauten&quot; globalen Variablen. Sie sollten sich also dessen bewusst sein, da Sie möglicherweise eine Ihrer Instanzvariablen gleich benennen oder Ihre eigene globale Variable mit demselben Namen haben möchten und sich fragen, warum Sie es sind Fehler bekommen! Sie sind jedoch leicht zu erkennen, da sie im Code-Editor in einer anderen Farbe angezeigt werden und auch in der Auto-Completion-Leiste unten angezeigt werden. Die meisten eingebauten globalen Variablen sind sehr spezifisch und werden nur in seltenen Fällen verwendet - und sind in den entsprechenden Abschnitten des Handbuchs aufgeführt. Es gibt jedoch eine wichtige, die häufig verwendet wird und an anderer Stelle nicht aufgeführt ist: </p><blockquote><ul><li> <a href=
"built_in_variables/async_load.html"><tt>async_load</tt></a> </li></ul></blockquote><p> Es gibt auch drei <b>veraltete</b> eingebaute globale Variablen, die Sie kennen sollten (diese Variablen sind nur zur Unterstützung älterer Projekte aus früheren Versionen von <i><span class="notranslate">GameMaker</span></i> gedacht und sollten <b><i>nicht in neuen Projekten verwendet werden</i></b> ): </p><blockquote><ul><li> <a href="built_in_variables/score.html"><tt>score</tt></a> </li><li> <a href="built_in_variables/health.html"><tt>health</tt></a> </li><li> <a href="built_in_variables/lives.html"><tt>lives</tt></a> </li></ul></blockquote><p> Die folgende Methode kann auch zum Deklarieren von globalen Variablen verwendet werden. Sie ist jedoch <i><b>nur aus Gründen der Abwärtskompatibilität enthalten</b></i>. Es wird nicht empfohlen, diese Methode für neue Projekte zu verwenden, da zukünftige Versionen von <i><span class="notranslate">GameMaker Studio</span> 2 dies</i> möglicherweise nicht unterstützen. </p><p> Die zweite Methode zum Erstellen globaler Variablen besteht darin, sie als solche mit der <tt>globalvar</tt> Deklaration, so wie Sie es mit einer lokalen Variablen tun würden <tt>var</tt> Erklärung. </p><div class="note"> <b>WICHTIG!</b> Das <tt>globalvar</tt> Die Deklaration ist <b>veraltet</b> und wird nur für ältere Zwecke unterstützt. Sie sollten <b>immer die</b> verwenden <tt>global.</tt> Bezeichner zum Markieren globaler Variablen. </div><p><br> Diese (veraltete) Deklaration würde wie folgt verwendet: </p><p class="code">globalvar food;<br>
food = 5;<br><span class="notranslate"></span></p><p> Sobald die Variable &quot;food&quot; auf diese Weise deklariert wurde, gilt sie nun als global und erfordert keine Angabe <tt>global.</tt> prefix - Dies bedeutet auch, dass es schwieriger ist, globale Variablen in Ihrem Code zu identifizieren, und es ist auch viel einfacher, Variablen zu überlappen, da Sie denselben Variablennamen in verschiedenen Objekten oder in installierten Erweiterungen verwenden. Nach dieser Deklaration wird auf die globale Variable wie folgt zugegriffen: </p><p class="code">food += 2;<br><span class="notranslate"></span></p><p> oder: </p><p class="code">draw_text(32, 32, "food = " +
string(food));<br><span class="notranslate"></span></p><p> Wie Sie sehen, können Sie sich nicht darauf hinweisen, dass die Variable global ist, und Sie können sich möglicherweise darauf einstellen, dass in Ihrem Spiel viele subtile Probleme auftreten, weshalb diese Deklaration vermieden werden sollte. </p><p> Es gibt eine Reihe von Funktionen, die Ihnen beim Umgang mit globalen Variablen helfen sollen (hauptsächlich zur Verwendung mit <a href=
"../../1_overview/3_additional_information/obsolete_functions.html">Kompatibilitätsskripts</a> für importierte Projekte und zum Code für Drag &amp; Drop-Aktionen, sie können jedoch auch an anderer Stelle verwendet werden): </p><ul><li> <a href=
"variable_functions/variable_global_exists.html"><tt>variable_global_exists</tt></a> </li><li> <a href=
"variable_functions/variable_global_get.html"><tt>variable_global_get</tt></a> </li><li> <a href=
"variable_functions/variable_global_set.html"><tt>variable_global_set</tt></a> </li></ul></div><br> <label class="collapse" for="four">Eingebaute Variablen</label> <input id="four" type="checkbox"><div class="index_list"><p> Eingebaute Variablen sind spezielle Variablen, die in die Objekte und Räume in der Spielwelt &quot;eingebaut&quot; werden. Sie können entweder einen Instanz- oder einen globalen Bereich (aber <i>niemals</i> lokal) haben. Im Abschnitt oben sind einige globale Variablen aufgeführt. In den verschiedenen Abschnitten des Handbuchs für Sprites, Räume, Objekte usw. werden auch die verfügbaren integrierten Variablen beschrieben. Beispiele für solche integrierten Instanzvariablen wären: </p><blockquote><ul><li> <a href=
"../4_gml_reference/instances/instance_variables/sprite_index.html"><tt>sprite_index</tt></a> </li><li> <a href=
"../4_gml_reference/instances/instance_variables/path_scale.html"><tt>
path_scale</tt></a> </li><li> <a href=
"../4_gml_reference/instances/instance_variables/speed.html"><tt>speed</tt></a> </li></ul></blockquote><p> Beispiele für integrierte globale Variablen wären: </p><blockquote><ul><li> <a href=
"../4_gml_reference/cameras%20and%20display/cameras/view_xport.html"><tt>view_xport</tt></a> </li><li> <a href=
"../4_gml_reference/miscellaneous/gm_version.html"><tt>GM_version</tt></a> </li><li> <a href=
"../4_gml_reference/rooms/general/room_speed.html"><tt>room_speed</tt></a> </li></ul></blockquote><p> Eingebaute Variablen können wie die meisten anderen Variablen geändert und festgelegt werden, und manche können sogar Arrays sein. Sie müssen sie jedoch nicht so definieren, als würden sie eine reguläre Variable sein, da sie bereits mit einem Standardwert initialisiert werden. </p></div><br> <label class="collapse" for="five">Makros (Konstanten)</label> <input id="five" type="checkbox"><div class="index_list"><p> Makros sind zwar nicht genau Variablen, aber in ihrer Verwendung ähnlich, dh sie sind benannte Werte, die Sie im gesamten Code verwenden können, um harte Werte zu ersetzen. Grundsätzlich ist ein Makro (auch als <b>Konstante bezeichnet</b> ) eine benannte Variable, die einen konstanten Einzelwert (oder eine Zeichenfolge) enthält. Sie können Ihre eigenen Konstanten mithilfe des <a href=
"../../2_interface/1_editors/scripts.html">Skript-Editors definieren</a> und diese dann in Ihrem Code und DnD wie reguläre Variablen verwenden, mit dem Unterschied, dass sie <i>im Spiel nicht geändert werden können</i>. Angenommen, Sie definieren das folgende Makro als Konstante (beachten Sie das vorangestellte &quot;#&quot; und das Fehlen eines Doppelpunkts &quot;;&quot; am Ende): </p><p class="code">#macro total_weapons 10<br><span class="notranslate"></span></p><p> Sie würden dies dann in Ihrem Code so aufrufen: </p><p class="code">if ++pos == total_weapons<br>
&nbsp;&nbsp;&nbsp;{<br>
&nbsp;&nbsp;&nbsp;pos = 0;<br>
&nbsp;&nbsp;&nbsp;}<br><span class="notranslate"></span></p><p> Beachten Sie, dass Sie den konstanten Wert nicht ändern können. Daher führt ein solcher Code zum Absturz des Spiels: </p><p class="code">total_weapons = 11;<br><span class="notranslate"></span></p><p> Sie können ein Makro an beliebiger Stelle in Ihrem Code oder Ihren Skripts definieren. Es wird <i>vorkompiliert</i> und in Ihr Spiel eingefügt, als ob es von Anfang an dort wäre. Wir empfehlen jedoch, dass Sie eine dedizierte Skriptressource erstellen und alle Ihre Makros dort definieren. Es wird später einfacher zu organisieren und zu debuggen! </p><p> Wenn Sie den Wert eines Makros zur Laufzeit ändern müssen, sollten Sie ihn wahrscheinlich zu einer globalen Variablen machen, da diese während eines Spiels vom Code geändert werden können, sofern Sie das Makro nicht als <i>Funktion definieren</i>. Wenn Sie das Makro auf eine Funktion setzen, bedeutet dies, dass diese Funktion jedes Mal aufgerufen wird, wenn Sie das Makro verwenden. Zum Beispiel: </p><p class="code">#macro col make_colour_hsv(irandom(255), 255,
255)<span class="notranslate"></span></p><p> Sie würden dieses Makro dann etwa so nennen: </p><p class="code">image_blend = col;<span class="notranslate"></span></p><p> Wenn Sie diesen Code verwenden, ändert sich die Bildmischung bei jeder Verwendung des Makros. Es ist erwähnenswert, dass Sie Makros auch mithilfe des <i>Schrägstrichs</i> auf mehrere Zeilen aufteilen können <tt>\</tt> um zu zeigen, wo die Linie bricht. Ein Beispiel wäre so etwas wie: </p><p class="code">#macro hello show_debug_message("Hello" + \<br>
string(player_name) + \<br>
", how are you today?");<span class="notranslate"></span></p><p> Dies ist rein kosmetisch, da das Aufteilen eines Makros auf das Ergebnis des finalen Makros keinen Einfluss hat und lediglich mehrzeiligen Text für Makros unterstützt, die längere Codezeilen enthalten. </p><p> Eine sehr wichtige Funktion von Makros ist, dass sie für die Verwendung mit bestimmten <a href=
"../../2_interface/3_settings/configurations.html">Konfigurationen</a> (configs) definiert werden können. Dies bedeutet, dass Sie denselben Makronamen verwenden können, ihm jedoch andere Werte zuweisen können, die auf der aktuell ausgewählten Konfiguration basieren. Angenommen, Sie haben eine Konfiguration für <span class="notranslate">Android</span> Anzeigen und eine weitere für iOS-Anzeigen. Dann könnten Sie ein einzelnes Makro definieren, das den erforderlichen App-ID-Wert enthält: </p><p class="code">#macro ad_id "";<br>
#macro Android:ad_id "com.yoyogames.googlegame"<br>
#macro iOS:ad_id "com.yoyogames.appstoregame"<span class="notranslate"></span></p><p> Wie Sie sehen, geben Sie zuerst den Konfigurationsnamen, dann einen Doppelpunkt: und dann den Namen und den Wert des Makros. Beachten Sie, dass Sie keine Leerzeichen zwischen dem Doppelpunkt und entweder dem Konfigurationsnamen oder dem Makronamen haben dürfen, andernfalls erhalten Sie eine Fehlermeldung. </p></div></blockquote><p><br></p></div><div class="footer"><div class="buttons"><div class="clear"><div style="float:left"> Zurück: <a href="index.html">GML-Übersicht</a> </div><div style="float:right"> Next: <a href=
"7_addressing_variables.html">Adressieren von Variablen in anderen Instanzen</a> </div></div></div><h5>© Copyright YoYo Games Ltd. 2018 All Rights Reserved</h5>
<script type="text/javascript">
   (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){   (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),   m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)   })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');   ga('create', 'UA-2711665-14', 'auto');   ga('send', 'pageview'); 
</script>
</div>

<script type="text/JavaScript">
var fe = FindFrame("toc", top);
if ((fe != null) && (chmtop.c2wtopf.jstree != null)) {
  if (chmtop.c2wtopf.FITEMS[chmtop.c2wtopf.pagenum] != chmtop.c2wtopf.pageid)
    chmtop.c2wtopf.jstree.OpenTreeNode("source/" + chmtop.c2wtopf.pageid);
}
</script>
</body>
</html>
