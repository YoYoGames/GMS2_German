<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="keywords" content="online documentation, web online help, web help, chm2web" />
<meta http-equiv="Content-Style-Type" content="text/css" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

<meta name="generator" content="chm2web Pro 2.85 (unicode)" />
<title>Arrays</title>
<meta http-equiv="X-UA-Compatible" content="IE=9">

<link rel="stylesheet" href="../../../../files/helpindex.css" type=
"text/css">
<link rel="stylesheet" href="../../../../default.css" type=
"text/css">

<script type="text/JavaScript" src="../../../../files/supply.js"></script>
<script type="text/JavaScript">
chmtop.c2wtopf.pageid = "_build/3_scripting/3_gml_overview/10_arrays.html";
</script>

</head>
<body><script type="text/JavaScript"> 
if (window.name != "content") 
  document.write(" <table width=\"100%\" bgcolor=\"#e1e1e1\"cellspacing=\"2\" cellpadding=\"0\" style=\"border-collapse: collapse; font-family: sans-serif; font-size: 14px; color: #000000; text-decoration: none;  \"> <tr> <td align=\"center\" style=\"border-bottom: 2px solid gray\" > <br>&nbsp;Click <a href=\"../../../../index.html?page=source%2F_build%2F3_scripting%2F3_gml_overview%2F10_arrays.html\">here</a> to show toolbars of the Web Online Help System: <a href=\"../../../../index.html?page=source%2F_build%2F3_scripting%2F3_gml_overview%2F10_arrays.html\">show toolbars</a><br>&nbsp;</td></tr></table><br> "); 
</script>
<!-- !chm2web! --><script type="text/JavaScript">
 if( typeof(chmtop.helpStyle) != 'undefined' ) { var linkNodes = document.getElementsByTagName("link");  for( var i=0; i < linkNodes.length; ++i ) { var link = linkNodes[i];    if( link.href.endsWith("default.css")) {    var style = link.href.replace("default.css", chmtop.helpStyle); document.write('<link id="newstyleLink" rel="stylesheet" href=' + style + ' type="text/css">');    break; } } } 
</script><h2> Arrays </h2><div class="body-scroll"><p><br></p><p> Arrays mögen auf den ersten Blick verwirrend erscheinen, aber sie können sehr nützlich sein und sind ein wesentlicher Bestandteil beim Erstellen von Spielen. Warum? Nun, hier sind nur ein paar Dinge, die ohne Arrays nicht möglich wären - </p><ul><li> Menüs. Ein oder zwei Arrays können die Erstellung eines guten Menüsystems erheblich erleichtern. </li><li> RPGs. Arrays sind essentiell für die Erstellung von RPGs, denn anstatt ein Chaos aus Variablen zu haben, haben Sie nur ein paar Zeilen, auf die Sie jederzeit zurückgreifen können. </li><li> Kartenspiele. Gut, um Karten und Hände im Auge zu behalten und sogar gemischt zu werden! </li><li> Highscores und andere Statistiken. Viel einfacher, ein Array als mehrere Variablen zu verfolgen. </li></ul><p> Das ist nur die Spitze des Eisbergs, denn Arrays sind eines der grundlegendsten und nützlichsten Programmierwerkzeuge, die Sie verwenden können, und Sie wären überrascht, welche Anwendungen sie haben können! Für die Verwendung in GML stehen verschiedene Array-Typen zur Verfügung, die in den folgenden Abschnitten beschrieben werden: </p><blockquote> <label class="collapse" for="one">1 Dimensions-Arrays</label> <input id="one" type="checkbox"><div class="index_list"><p> Okay, wir können ein Array für die oben genannten Dinge verwenden, aber was ist ein Array? Wie sieht es aus? Nun, so etwas... <img class="center" src="images/1darrayexample.png" alt="1D-Array"></p><p class="code">array[0] = 1.25;<span class="notranslate"></span></p><p> Dies ist ein 1D (eindimensionales) Array, in dem wir nun die einzelnen Teile aufteilen werden, um zu sehen, was es bedeutet: </p><p class="code">array<span class="notranslate"></span></p><p> Dies ist der Name des Arrays. Genau wie jede andere Variable kann es von &quot;a&quot; bis &quot;mymumscow&quot; alles sein, was Sie wollen. </p><p class="code">[0]<span class="notranslate"></span></p><p> Dies ist die Position innerhalb des Arrays, die wir prüfen oder ändern. Sie sehen, ein Array ist im Grunde ein Container mit einer Anzahl von Leerzeichen zum Speichern von Werten, und jede Position im Container hat eine spezifische Nummer, um sie zu identifizieren, was wir in [] setzen. Es ist erwähnenswert, dass ein Array <b>immer bei 0 beginnt</b> und <i>niemals negativ sein kann</i>! Jetzt erweitern wir unser Array um verschiedene Positionen... </p><p class="code">array[2] = 0;<br>
array[1] = 0;<br>
array[0] = 0;<br><span class="notranslate"></span></p><p> Unser Array enthält jetzt drei Positionen (0, 1 und 2) und wir haben unser Array auf 0 initialisiert. Was bedeutet das? Nun, ein Array muss <i>initialisiert werden,</i> bevor wir es benutzen können oder <i><span class="notranslate">GameMaker</span> Studio 2</i> gibt uns einen Fehler. Das Initialisieren eines Arrays bedeutet nur, dass wir jeder Position des Arrays einen Anfangswert geben, um es an anderer Stelle im Objekt oder Code zu verwenden. Dies ist wichtig, um sich daran zu erinnern, da es bedeutet, dass Sie vor der Verwendung von Arrays eine gewisse Planung durchführen müssen, aber es ist einfach genug, eine solche Schleife mit einer Wiederholungsschleife wie dieser zu initialisieren... </p><p class="code">var i = 9;<br>
repeat(10)<br>
&nbsp;&nbsp;&nbsp;{<br>
&nbsp;&nbsp;&nbsp;array[i] = 0;<br>
&nbsp;&nbsp;&nbsp;i -= 1;<br>
&nbsp;&nbsp;&nbsp;}<br><span class="notranslate"></span></p><p> Dieser einfache Code initialisiert ein Array mit zehn Positionen (0-9) auf 0, wobei jede Position im Array den Wert 0 enthält. Sie werden feststellen, dass das Array <i>rückwärts</i> initialisiert <i>wurde</i>, wobei der letzte Wert zuerst definiert wird. Dies ist nicht unbedingt notwendig, aber es ist der optimale Weg, dies zu tun, da es einen Speicherplatz im Speicher reserviert, der die genaue Größe des Arrays hat. Wenn Sie dagegen ein Array von 0 aufwärts initialisieren, muss der Speicher für jeden neu zugewiesen werden zusätzlicher Mehrwert Der Geschwindigkeitsunterschied ist für kleinere Arrays vernachlässigbar, aber größere sollten auf diese Weise so weit wie möglich optimiert werden. </p><p> Was aber, wenn wir das Array mit verschiedenen Werten für jede Position initialisieren wollen? Dafür müssen wir jede Position manuell eingeben, aber es gibt einen netten Trick, der uns hilft, die Dinge auch dort zu verfolgen! </p><p class="code">count = 3;<br>
array[count] = "you?"<br>
count -= 1;<br>
array[count] = "are "<br>
count -= 1;<br>
array[count] = "How "<br>
count -= 1;<br>
array[count] = "Hello!"<br>
count -= 1;<br><span class="notranslate"></span></p><p> Wie Sie sehen können, haben wir im Array keine Zahlen verwendet, sondern eine Variable, um durch die Werte zu zählen. Dies hat zwei Vorteile: Erstens müssen wir uns keine Gedanken über Tippfehler oder Fehler beim Schreiben der Array-Positionen machen, und zweitens haben wir in der Variablen &quot;count&quot; die Anzahl der Positionen, die das Array enthält, die dann verwendet werden können anderswo im Objekt. Sehr hilfreich! </p><p> Schließlich können Sie die Werte einem Array zuweisen, indem Sie einen einzelnen Variablenaufruf verwenden: </p><p class="code">var a = [0, 1, 2, 3, 4];<br>
var b = [];<span class="notranslate"></span></p><p> Das Obige erstellt zwei Arrays als lokale Variablen, die erste bereits mit 5 Elementen und die zweite als leeres Array, das bereit ist, Werte hinzuzufügen. </p><p> Wie benutzen wir ein Array für praktische Dinge? Genauso wie wir eine normale Variable verwenden würden, wie die folgenden Beispiele zeigen: </p><p class="code">total = array[0] + array[5]; //Add two array values
together<br>
<br>
if (array[9]) == 10 //Check an array value<br>
&nbsp;&nbsp;&nbsp;{<br>
&nbsp;&nbsp;&nbsp;//do something<br>
&nbsp;&nbsp;&nbsp;}<br>
<br>
draw_text(32, 32, array[3]); //draw an array value<br><span class="notranslate"></span></p><p> Da Arrays fortlaufend nummeriert sind, bedeutet dies, dass Sie sie auch durchlaufen können, um zusätzliche Aktionen auszuführen, wie wir sie initialisiert haben: </p><p class="code">var total = 0;<br>
for (var i = 0; i &lt; 10; i++;)<br>
&nbsp;&nbsp;&nbsp;{<br>
&nbsp;&nbsp;&nbsp;total += array[i];<br>
&nbsp;&nbsp;&nbsp;draw_text(32, 32 + (i * 32), array[i]);<br>
&nbsp;&nbsp;&nbsp;}<br>
draw_text(32, 32 + (i * 32), total);<br><span class="notranslate"></span></p><p> Der obige Code addiert alle Werte in unserem Array, zeichnet jeden von ihnen und zeichnet den Gesamtwert am Ende. </p></div><br> <label class="collapse" for="two">2 Dimensions-Arrays</label> <input id="two" type="checkbox"><div class="index_list"><p> Nun, da wir wissen, wie ein normales Array aussieht, schauen wir uns ein zweidimensionales (zweidimensionales) Array an. <img class="center" src=
"images/2darrayexample.png" alt="2D-Arrays"></p><p class="code">array[0, 0] = 5;<span class="notranslate"></span></p><p> Wie zuvor zeigt jede Zahl auf eine Position innerhalb der Anordnung, nur dass diesmal jede Position eine &quot;a&quot; - <i>und eine</i> &quot;b&quot; -Koordinate aufweist. Stellen Sie es sich als eine zusätzliche Dimension unseres Containers vor, da es jetzt Höhe <i>und</i> Breite hat, während das 1D Array nur Höhe hat. Hier ist ein erweitertes Beispiel: </p><p class="code">array[1, 2] = 1;<br>
array[1, 1] = "hello";<br>
array[1, 0] = 55.5;<br>
array[0, 2] = sprite_index;<br>
array[0, 1] = "world";<br>
array[0, 0] = -67.89;<br><span class="notranslate"></span></p><p> Ein 2D-Array muss vor der Verwendung wie ein 1D-Array initialisiert werden und kann wie jede andere Variable reelle Zahlen, Strings und Konstanten enthalten. Dies macht es zu idealen Kandidaten für jedes Spiel, in dem große Datenmengen gespeichert werden müssen leicht zugänglich (denken Sie daran, Sie können ein Array leicht durchlaufen). Hier ist ein letztes Beispiel, wie dies in einem aktuellen Spiel verwendet werden kann... Angenommen, Sie möchten vier verschiedene Gegner an vier verschiedenen Punkten in Ihrem Spiel spawnen, abhängig von einem zufälligen Wert. Nun, wir können ein 2D-Array verwenden, um dies zu tun und das Schreiben einer Menge Code zu sparen. </p><p> Zuerst sollten wir das Array initialisieren, das wir im create-Event unseres &quot;controller&quot; -Objekts verwenden werden (beachten Sie die Verwendung von Kommentaren, um Sie daran zu erinnern, was jeder Array-Eintrag tut): </p><p class="code">enemy[3, 2] = 448;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//y position<br>
enemy[3, 1] = 32; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//x
position<br>
enemy[3, 0] = obj_Slime; //Object<br>
enemy[2, 2] = 448;<br>
enemy[2, 1] = 608;<br>
enemy[2, 0] = obj_Skeleton;<br>
enemy[1, 2] = 32;<br>
enemy[1, 1] = 608;<br>
enemy[1, 0] = obj_Knight;<br>
enemy[0, 2] = 32;<br>
enemy[0, 1] = 32;<br>
enemy[0, 0] = obj_Ogre;<br><span class="notranslate"></span></p><p> Wir haben jetzt die Objekte, um Instanzen von und ihre entsprechenden x- und y-Spawn-Koordinaten innerhalb des Raums zu spawnen, die alle in unserem Array gespeichert sind. Dies kann nun wie folgt in einem anderen Ereignis des Controller-Objekts verwendet werden (z. B. ein Alarm oder ein Tastendruckereignis): </p><p class="code">var i;<br>
i = irandom(3); //get a random number from 0 to 3, inclusive<br>
instance_create_layer(enemy[i, 1], enemy[i, 2], enemy[i, 0],
"Enemy_Layer"); //Use the array to create the object<br><span class="notranslate"></span></p><p> Dieser kurze Code wird nun einen zufälligen Gegner im Spielraum hervorbringen, und er benutzt weit weniger Code als eine &quot;if / then / else&quot; -Struktur oder sogar einen &quot;switch&quot;, und da das Array alle zusammen in dem create-Ereignis initialisiert wird ist viel einfacher zu bearbeiten und ändern Sie alle diese Werte, da sie nicht fest in den Rest der Objektcodes codiert sind. Es ist auch erwähnenswert, dass die Länge jedes 2D-Arrays unterschiedlich sein kann, so dass Sie ein Array mit einer Höhe von 2 haben können, aber Eintrag 0 könnte 2 lang sein, Eintrag 1 könnte 4 sein und Eintrag 2 könnte 3 sein in Länge: </p><p class="code">array[0, 0] = 1;<br>
array[0, 1] = 2;<br>
array[1, 0] = "one";<br>
array[1, 1] = "two";<br>
array[1, 2] = "three";<br>
array[1, 3] = "four";<br>
array[2, 0] = "1";<br>
array[2, 1] = "2";<br>
array[2, 2] = "3";<br><span class="notranslate"></span></p></div><br> <label class="collapse" for="three">Erweiterte Array-Funktionalität</label> <input id="three" type="checkbox"><div class="index_list"><p> Genau wie bei normalen Variablen können Sie Arrays an Skripts übergeben, die verwendet werden sollen, und dann an die Instanz zurückgeben, die das Skript aufgerufen hat. Dazu müssen Sie lediglich die Array-Variable angeben (weder die einzelnen Einträge noch die Klammern []), und das Array wird als Referenz an das Skript übergeben. Wenn Sie jedoch einen der Array-Werte ändern, wird das Array nur für das Skript in ein temporäres Array kopiert. Beachten Sie die Verwendung des Wortes <i>vorübergehend</i> hier! Sie übergeben das Array selbst nicht wie eine Variable an das Skript, sondern Sie fordern stattdessen an, dass das Skript eine <i>Kopie</i> dieses Arrays erstellt, die Sie im Skript ändern. Dies bedeutet, dass Sie <b>das Array immer</b> aus dem Skript zurückgeben müssen, wenn Sie Array-Werte ändern möchten. </p><blockquote><div class="note"> <b>HINWEIS:</b> Aufgrund der internen Funktionsweise kann das Übergeben von Arrays an Skripts die Leistung beeinträchtigen, insbesondere wenn das Array sehr groß ist. Also benutze diese Funktionalität mit Vorsicht! </div></blockquote><p> Betrachten Sie als Beispiel den folgenden Code. Zuerst erstellen wir das Array, das wir verwenden möchten, und dann übergeben wir dieses Array an das Skript: </p><p class="code">for (var i = 9; i &gt; -1; i--;)<br>
&nbsp;&nbsp;&nbsp;{<br>
&nbsp;&nbsp;&nbsp;a[i] = i;<br>
&nbsp;&nbsp;&nbsp;}<br>
<br>
scr_Return_Array(a);<br><span class="notranslate"></span></p><p> Das Skript selbst ist etwas einfaches wie: </p><p class="code">for (var i = 9; i &gt; -1; i--;)<br>
&nbsp;&nbsp;&nbsp;{<br>
&nbsp;&nbsp;&nbsp;a[i] = i * 100;<br>
&nbsp;&nbsp;&nbsp;}<br><span class="notranslate"></span></p><p> Nun würden Sie das letzte Array erwarten die Werte 900, 800, 700, etc. zu halten... aber das wird nicht der Fall sein, da wir <i>nicht</i> das Array aus dem Skript zurückgekommen, so alles, was wir war die temporäre Kopie geändert, die war erstellt, wenn wir das Array als Argument in das Skript übergeben haben. Um dies zu korrigieren, hätten wir den Code wie folgt formatieren müssen: </p><p class="code">for (var i = 9; i &gt; -1; i--;)<br>
&nbsp;&nbsp;&nbsp;{<br>
&nbsp;&nbsp;&nbsp;a[i] = i;<br>
&nbsp;&nbsp;&nbsp;}<br>
<br>
a = scr_Return_Array(a);<br><span class="notranslate"></span></p><p> Und das Skript sollte jetzt so aussehen: </p><p class="code">for (var i = 9; i &gt; -1; i--;)<br>
&nbsp;&nbsp;&nbsp;{<br>
&nbsp;&nbsp;&nbsp;argument0[i] = i * 100;<br>
&nbsp;&nbsp;&nbsp;}<br>
<br>
return argument0;<br><span class="notranslate"></span></p><blockquote><div class="note"> <b>Hinweis:</b> das obige ist <b>nicht</b> erforderlich, wenn Sie keine der Array-Werte ändern, sondern einfach auf sie verweisen. Wenn Sie auf ein Array verweisen, wird es nicht kopiert und kann schneller analysiert werden. </div></blockquote><p> Sie können ein Array auch einfach löschen, indem Sie die Variable, die es definiert, auf einen einzelnen Wert &quot;neu zuweisen&quot;. Dadurch wird der Speicher freigegeben, der allen Einträgen und Werten für dieses Array zugeordnet ist. Beispielsweise: </p><p class="code">//Create the array for (var i = 9; i &gt; -1;
i--;)<br>
&nbsp;&nbsp;&nbsp;{<br>
&nbsp;&nbsp;&nbsp;a[i] = i;<br>
&nbsp;&nbsp;&nbsp;}<br>
//Delete the array a = 0;<span class="notranslate"></span></p><p> Es ist auch erwähnenswert, dass Sie den Accessor verwenden können <tt>@</tt> um ein Array aus einem Skript zu referenzieren und seine Werte direkt zu ändern, was den CPU-Overhead beim Kopieren in das Skript spart. Auf der folgenden Seite finden Sie weitere Informationen zu Accessoren und ihrer Funktionsweise sowie ein Beispiel für Arrays: </p><blockquote><ol><li> <a href="13_accessors.html"><span class=
"list_link">Accessoren</span></a> </li></ol></blockquote></div></blockquote><p><br></p><h2> Array-Funktionen </h2><p> Es gibt ein paar Funktionen, die mit der Verwendung von Arrays verbunden sind. Diese wurden entwickelt, um Ihnen Flexibilität in Ihrem Code zu geben und Ihnen zu ermöglichen, mehr funktionale und dynamische Arrays zu erstellen, wenn Sie Ihre Spiele erstellen. Diese Funktionen sind: </p><ul><li> <a href="checking_data_types/is_array.html">is_array</a> <br></li><li> <a href="arrays/array_create.html">array_create</a> </li><li> <a href="arrays/array_copy.html">array_copy</a> </li><li> <a href="arrays/array_equals.html">array_equals</a> </li><li> <a href="arrays/array_length_1d.html">array_length_1D</a> <br></li><li> <a href="arrays/array_length_2d.html">array_length_2D</a> <br></li><li> <a href="arrays/array_height_2d.html">array_height_2D</a> <br></li></ul><p><br></p></div><div class="footer"><div class="buttons"><div class="clear"><div style="float:left"> Zurück: <a href="index.html">GML-Übersicht</a> </div><div style="float:right"> Weiter: <a href=
"11_assignments.html">Zuweisungen</a> </div></div></div><h5>© Copyright YoYo Games Ltd. 2018 All Rights Reserved</h5>
<script type="text/javascript">
   (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){   (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),   m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)   })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');   ga('create', 'UA-2711665-14', 'auto');   ga('send', 'pageview'); 
</script>
</div>

<script type="text/JavaScript">
var fe = FindFrame("toc", top);
if ((fe != null) && (chmtop.c2wtopf.jstree != null)) {
  if (chmtop.c2wtopf.FITEMS[chmtop.c2wtopf.pagenum] != chmtop.c2wtopf.pageid)
    chmtop.c2wtopf.jstree.OpenTreeNode("source/" + chmtop.c2wtopf.pageid);
}
</script>
</body>
</html>
