<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="keywords" content="online documentation, web online help, web help, chm2web" />
<meta http-equiv="Content-Style-Type" content="text/css" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

<meta name="generator" content="chm2web Pro 2.85 (unicode)" />
<title>json_decode</title>
<meta http-equiv="X-UA-Compatible" content="IE=9">
<link rel="stylesheet" href="../../../../../files/helpindex.css"
type="text/css">
<link rel="stylesheet" href="../../../../../default.css" type=
"text/css">

<script type="text/JavaScript" src="../../../../../files/supply.js"></script>
<script type="text/JavaScript">
chmtop.c2wtopf.pageid = "_build/3_scripting/4_gml_reference/file handling/json_decode.html";
</script>

</head>
<body><script type="text/JavaScript"> 
if (window.name != "content") 
  document.write(" <table width=\"100%\" bgcolor=\"#e1e1e1\"cellspacing=\"2\" cellpadding=\"0\" style=\"border-collapse: collapse; font-family: sans-serif; font-size: 14px; color: #000000; text-decoration: none;  \"> <tr> <td align=\"center\" style=\"border-bottom: 2px solid gray\" > <br>&nbsp;Click <a href=\"../../../../../index.html?page=source%2F_build%2F3_scripting%2F4_gml_reference%2Ffile%20handling%2Fjson_decode.html\">here</a> to show toolbars of the Web Online Help System: <a href=\"../../../../../index.html?page=source%2F_build%2F3_scripting%2F4_gml_reference%2Ffile%20handling%2Fjson_decode.html\">show toolbars</a><br>&nbsp;</td></tr></table><br> "); 
</script>
<!-- !chm2web! --><script type="text/JavaScript">
 if( typeof(chmtop.helpStyle) != 'undefined' ) { var linkNodes = document.getElementsByTagName("link");  for( var i=0; i < linkNodes.length; ++i ) { var link = linkNodes[i];    if( link.href.endsWith("default.css")) {    var style = link.href.replace("default.css", chmtop.helpStyle); document.write('<link id="newstyleLink" rel="stylesheet" href=' + style + ' type="text/css">');    break; } } } 
</script><h2> json_decode </h2><div class="body-scroll"><p><br></p><h3> Beschreibung </h3><blockquote><p> JSON (JavaScript Object Notation) ist ein leichtes Format für den Datenaustausch, das sowohl für Personen als auch für Maschinen einfach zu lesen und zu schreiben ist. Es ist auf zwei Grundstrukturen aufgebaut: </p><ul><li> Eine Sammlung von Name / Wert-Paaren, genannt a <a href=
"../data_structures/ds%20maps/index.html"><tt>ds_map</tt></a> in <i><span class="notranslate">GameMaker Studio 2</span></i> aber auch &quot;Wörterbuch&quot; oder &quot;Objekt&quot; genannt. </li><li style="list-style: none"><br></li><li> Eine geordnete Liste von Werten, genannt a <a href=
"../data_structures/ds%20lists/index.html"><tt>ds_list</tt></a> In <i><span class="notranslate">GameMaker Studio 2</span></i> kann dies jedoch auch als &quot;Array&quot; oder &quot;Sequenz&quot; bezeichnet werden. </li></ul><p> Mit dieser Funktion können Sie ein Stück JSON dekodieren und in eine konvertieren <tt>ds_map</tt>, bereit für den Einsatz in <i><span class="notranslate">GameMaker Studio</span> 2</i>. Wenn für die zu decodierende JSON eine Hierarchie von Listen und Maps in der zentralen ds_map erforderlich ist, werden diese ebenfalls decodiert und ebenfalls für Sie erstellt, wobei die folgenden Regeln gelten (Beachten Sie, dass diese Regeln nur für die Struktur der obersten Ebene gelten): </p><ul><li> <i>Json ist ein einzelner Wert</i> - gibt eine ds_map mit einem einzelnen Eintrag &quot;default&quot; zurück, der dem Wert entspricht </li><li style="list-style: none"><br></li><li> <i>Json ist ein Array von Objekten oder Werten</i> - gibt eine ds_map mit einem einzelnen Eintrag &quot;default&quot; zurück, der eine ds_list der Objekte oder Werte ist </li><li style="list-style: none"><br></li><li> <i>Json ist ein Objekt</i> - gibt eine ds_map zurück, die die Objekteinträge enthält </li></ul><div class="note"> <b>HINWEIS</b>: Beim Dekodieren von Arrays gibt es NUR eine Map mit dem Schlüssel &quot;default&quot;, wenn ein Array die Struktur der obersten Ebene ist und NUR für dieses Array der obersten Ebene. Interne Listen werden direkt in ds_lists dekodiert, ohne in eine ds_map eingeschlossen zu werden. </div><p><br> Normalerweise würden Sie wissen, zu welchen Schlüsseln der JSON dekodiert, aber wenn nicht, können Sie die verwenden <a href=
"../data_structures/ds%20maps/ds_map_size.html"><tt>ds_map_size</tt></a>. <a href=
"../data_structures/ds%20maps/ds_map_find_first.html"><tt>ds_map_find_first</tt></a> und <a href=
"../data_structures/ds%20maps/ds_map_find_next.html"><tt>ds_map_find_next</tt></a> Funktionen zum Analysieren der Karte und zum Abrufen der erforderlichen Informationen. </p><div class="note"> <b>HINWEIS</b>: <i><span class="notranslate">GameMaker Studio 2</span></i> erstellt die erforderlichen ds_maps und -Listen aus dem JSON. Zum Bereinigen müssen Sie nur die <b>oberste</b> Karte oder Liste löschen. <i><span class="notranslate">GameMaker Studio 2</span></i> löscht automatisch alle darunter liegenden Karten und Listen aus dem Speicher. </div></blockquote><p><br></p><h3> Syntax: </h3><p class="code">json_decode(string)<span class="notranslate"></span></p><p><br></p><div class="param"><table><tr><th> Streit </th><th> Beschreibung </th></tr><tr><td> <span class="notranslate">string</span> </td> <td> Die JSON-Formatzeichenfolge, die Sie an die Decodierungsfunktion übergeben </td></tr></table></div><p><br></p><h3> Kehrt zurück: </h3><p class="code">ds_map id or -1 if it fails<span class="notranslate"></span></p><p><br></p><h3> Beispiel: </h3><p class="code">var resultMap = json_decode(requestResult);<br>
var list = ds_map_find_value(resultMap, "default");<br>
var size = ds_list_size(list);<br>
for (var n = 0; n &lt; ds_list_size(list); n++;)<br>
&nbsp;&nbsp;&nbsp;{<br>
&nbsp;&nbsp;&nbsp;var map = ds_list_find_value(list, n);<br>
&nbsp;&nbsp;&nbsp;var curr = ds_map_find_first(map);<br>
&nbsp;&nbsp;&nbsp;while (is_string(curr))<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;global.Name[n] =
ds_map_find_value(map, "name");<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;curr = ds_map_find_next(map,
curr);<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&nbsp;&nbsp;&nbsp;}<br>
ds_map_destroy(resultMap);<br><span class="notranslate"></span></p><blockquote><p> Der obige Code decodiert einen JSON-String und analysiert ihn, um ein globales Array zu generieren. </p></blockquote><p><br></p></div><div class="footer"><div class="buttons"><div class="clear"><div style="float:left"> Zurück: <a href="index.html">Dateibehandlung</a> </div><div style="float:right"> Weiter: <a href=
"md5_string_utf8.html">md5_string_utf8</a> </div></div></div><h5>© Copyright YoYo Games Ltd. 2018 All Rights Reserved</h5>
<script type="text/javascript">
   (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){   (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),   m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)   })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');   ga('create', 'UA-2711665-14', 'auto');   ga('send', 'pageview'); 
</script>
</div>

<script type="text/JavaScript">
var fe = FindFrame("toc", top);
if ((fe != null) && (chmtop.c2wtopf.jstree != null)) {
  if (chmtop.c2wtopf.FITEMS[chmtop.c2wtopf.pagenum] != chmtop.c2wtopf.pageid)
    chmtop.c2wtopf.jstree.OpenTreeNode("source/" + chmtop.c2wtopf.pageid);
}
</script>
</body>
</html>
