<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="keywords" content="online documentation, web online help, web help, chm2web" />
<meta http-equiv="Content-Style-Type" content="text/css" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

<meta name="generator" content="chm2web Pro 2.85 (unicode)" />
<title>vertex_format_add_custom</title>
<meta http-equiv="X-UA-Compatible" content="IE=9">
<link rel="stylesheet" href=
"../../../../../../../files/helpindex.css" type="text/css">
<link rel="stylesheet" href="../../../../../../../default.css"
type="text/css">

<script type="text/JavaScript" src="../../../../../../../files/supply.js"></script>
<script type="text/JavaScript">
chmtop.c2wtopf.pageid = "_build/3_scripting/4_gml_reference/drawing/primitives/vertex formats/vertex_format_add_custom.html";
</script>

</head>
<body><script type="text/JavaScript"> 
if (window.name != "content") 
  document.write(" <table width=\"100%\" bgcolor=\"#e1e1e1\"cellspacing=\"2\" cellpadding=\"0\" style=\"border-collapse: collapse; font-family: sans-serif; font-size: 14px; color: #000000; text-decoration: none;  \"> <tr> <td align=\"center\" style=\"border-bottom: 2px solid gray\" > <br>&nbsp;Click <a href=\"../../../../../../../index.html?page=source%2F_build%2F3_scripting%2F4_gml_reference%2Fdrawing%2Fprimitives%2Fvertex%20formats%2Fvertex_format_add_custom.html\">here</a> to show toolbars of the Web Online Help System: <a href=\"../../../../../../../index.html?page=source%2F_build%2F3_scripting%2F4_gml_reference%2Fdrawing%2Fprimitives%2Fvertex%20formats%2Fvertex_format_add_custom.html\">show toolbars</a><br>&nbsp;</td></tr></table><br> "); 
</script>
<!-- !chm2web! --><script type="text/JavaScript">
 if( typeof(chmtop.helpStyle) != 'undefined' ) { var linkNodes = document.getElementsByTagName("link");  for( var i=0; i < linkNodes.length; ++i ) { var link = linkNodes[i];    if( link.href.endsWith("default.css")) {    var style = link.href.replace("default.css", chmtop.helpStyle); document.write('<link id="newstyleLink" rel="stylesheet" href=' + style + ' type="text/css">');    break; } } } 
</script><h2> vertex_format_add_custom </h2><div class="body-scroll"><p><br></p><h3> Syntax: </h3><p class="code">vertex_format_add_custom(type, usage);<span class="notranslate"></span></p><p><br></p><div><table><tr><th> Streit </th><th> Beschreibung </th></tr><tr><td> <span class="notranslate">type</span> </td> <td> Die Daten geben, dass dieser Brauch Vertexdaten halten (siehe unten die <b><i>Typkonstanten</i></b> sehen). </td></tr><tr class="alt"><td> <span class="notranslate">usage</span> </td> <td> Die Verwendung der angegebenen Daten erhalten (die <b><i>Nutzungs Konstanten</i></b> aufgeführt siehe unten). </td></tr></table></div><p><br></p><h3> Kehrt zurück: </h3><p class="code">N/A<span class="notranslate"></span></p><p><br></p><h3> Beschreibung </h3><blockquote><p> Mit dieser Funktion können Sie einen benutzerdefinierten Datentyp für bestimmte Attribute des Scheitelpunktformats als Teil des neu erstellten Scheitelpunktformats verwenden. Die verfügbaren Werte werden durch die von Ihnen gewählte Datentypkonstante definiert: </p><p><br></p><div class="compat"><table><tr><th> Konstante </th><th> Beschreibung </th></tr><tr><td> <span class="notranslate">vertex_type_float1</span> </td> <td> Ein einzelner Gleitkommawert </td></tr><tr class="alt"><td> <span class="notranslate">vertex_type_float2</span> </td> <td> Zwei Gleitkommawerte </td></tr><tr><td> <span class="notranslate">vertex_type_float3</span> </td> <td> Drei Gleitkommawerte </td></tr><tr class="alt"><td> <span class="notranslate">vertex_type_float4</span> </td> <td> Vier Gleitkommawerte </td></tr><tr><td> <span class="notranslate">vertex_type_colour</span> </td> <td> Vier Komponentenwerte (r, g, b, a) </td></tr><tr class="alt"><td> <span class="notranslate">vertex_type_ubyte4</span> </td> <td> Vier vorzeichenlose Byte-Werte (von 0 bis 255) </td></tr></table></div><p><br> Die Verwendung dieser Konstanten muss ebenfalls definiert werden, damit die Werte ordnungsgemäß innerhalb des erstellten Shaders &quot;gebunden&quot; werden können. Dies ist erforderlich, da DX und OpenGL unterschiedliche Anforderungen haben. Wenn Sie sie nicht ordnungsgemäß binden, werden sie nicht direkt im Shader angezeigt. Die verfügbaren Verwendungskonstanten, die Sie auswählen können, sind unten aufgeführt. Die verwendeten Konstanten hängen von den Besonderheiten des zu erstellenden Shaders ab: </p><p><br></p><div class="compat"><table><tr><th> Konstante </th><th> Beschreibung </th></tr><tr><td> <span class="notranslate">vertex_usage_position</span> </td> <td> Positionswerte (x, y, z) </td></tr><tr class="alt"><td> <span class="notranslate">vertex_usage_colour</span> </td> <td> Farbwerte (r, g, b, a) </td></tr><tr><td> <span class="notranslate">vertex_usage_normal</span> </td> <td> Vertex-Normalwerte (nx, ny, nz) </td></tr><tr class="alt"><td> <span class="notranslate">vertex_usage_textcoord</span> </td> <td> UV-Koordinaten (u, v) </td></tr><tr><td> <span class="notranslate">vertex_usage_blendweight</span> </td> <td> das Mischgewicht der Eingabematrix (z. B. für Skelettanimation) </td></tr><tr class="alt"><td> <span class="notranslate">vertex_usage_blendindices</span> </td> <td> die Indizes der zu verwendenden Matrizen (z. B. für die Skelettanimation) </td></tr><tr><td> <span class="notranslate">vertex_usage_depth</span> </td> <td> Scheitelpunkttiefenpufferwert </td></tr><tr class="alt"><td> <span class="notranslate">vertex_usage_tangent</span> </td> <td> Tangentenwerte </td></tr><tr><td> <span class="notranslate">vertex_usage_binormal</span> </td> <td> binormale Werte </td></tr><tr class="alt"><td> <span class="notranslate">vertex_usage_fog</span> </td> <td> Nebelwerte </td></tr><tr><td> <span class="notranslate">vertex_usage_sample</span> </td> <td> Sampler-Index </td></tr></table></div><p><br> Bei der Verwendung benutzerdefinierter Formate wie diesen sind einige wichtige Punkte zu beachten: </p><ul><li> Das <tt>vertex_format_add_custom()</tt> Funktion unterstützt nur <tt>vertex_usage_position</tt>. <tt>vertex_usage_colour</tt>. <tt>vertex_usage_normal</tt> und <tt>vertex_usage_textcoord</tt> bei Verwendung von GLSL-Shadern. Diese werden den Shader-Attributen zugeordnet <tt>in_Position</tt>. <tt>in_Colour[0 - ...]</tt>. <tt>in_Normal</tt> jeweils (alles, was nicht eines dieser drei Attribute ist - z. B. Texturkoordinaten - kann jedem von Ihnen definierten Attribut zugeordnet werden). </li><li style="list-style: none"><br></li><li> Im Allgemeinen sollten Sie verwenden <tt>vertex_usage_textcoord</tt> für alle zusätzlichen Parameter, wenn möglich, als Typen <tt>vertex_usage_blendweight</tt> und <tt>vertex_usage_tangent</tt> sind in den meisten Shader-Sprachen nahezu veraltet und konvertieren wahrscheinlich nicht richtig. Verwenden Sie stattdessen <tt>vec</tt>. <tt>vec2</tt>. <tt>vec3</tt> oder <tt>vec4</tt> Typen <tt>vertex_usage_textcoord</tt> und alles sollte gut funktionieren. </li><li style="list-style: none"><br></li><li> GLSL ES unterstützt <i>keine</i> Ganzzahlattribute, also die Übergabe <tt>ivec4</tt> &#39;s funktioniert nicht (dieser Typ wird normalerweise beim Übergeben verwendet <tt>vertex_usage_blendindices</tt> ). Sie müssen nur die Texturkoordinaten übergeben und diese dann im Shader in konvertieren <tt>ivec4</tt> so was: <p class="code">attribute vec3 in_Position;<br>
attribute vec4 in_BlendIndices;<br>
attribute vec4 in_BlendWeights;<br>
<br>
varying vec4 v_vColour;<br>
varying mat4 v_mat;<br>
<br>
void main()<br>
{<br>
&nbsp;&nbsp;&nbsp;&nbsp;gl_Position =
gm_Matrices[MATRIX_WORLD_VIEW_PROJECTION] * vec4( in_Position.xyz,
1.0);<br>
&nbsp;&nbsp;&nbsp;&nbsp;v_vColour = in_BlendWeights;<br>
&nbsp;&nbsp;&nbsp;&nbsp; ivec4 t = ivec4(in_BlendIndices);<br>
&nbsp;&nbsp;&nbsp;&nbsp; v_mat = gm_Matrices[ t.x ];<br>
}<br><span class="notranslate"></span></p><br> Mischgewichte werden normalerweise in einem Array gespeichert und dann über Mischindex aufgerufen. Sie können hier jedoch sehen, anstatt sie zu definieren <tt>in_BlendIndices</tt> als ein <tt>ivec4</tt> Attribut, es ist ein <tt>vec4</tt>, dann zu einem <tt>ivec4</tt> im Code. Dies wird dann verwendet, um das mit dem erstellte Array zu indexieren <tt>gm_Matrix</tt> (Sie können nur mit einem Array auf ein Array zugreifen <tt>INT</tt> Wert - kein Float). </li><li style="list-style: none"><br></li></ul></blockquote><p><br></p><h3> Beispiel: </h3><p class="code">vertex_format_begin();<br>
vertex_format_add_textcoord();<br>
vertex_format_add_custom(vertex_type_float3,
vertex_usage_position);<br>
my_format = vertex_format_end();<br><span class="notranslate"></span></p><blockquote><p> Der obige Code erstellt ein neues Scheitelpunktformat mit nur Textur und 3 benutzerdefinierten Gleitkommawerten für die Position. Dann wird die Format-ID in der Variablen &quot;my_format&quot; gespeichert. </p></blockquote><p><br></p></div><div class="footer"><div class="buttons"><div class="clear"><div style="float:left"> Rückseite: <a href="index.html">Vertex-Formate</a> </div><div style="float:right"> Weiter: <a href=
"vertex_format_end.html">vertex_format_end</a> </div></div></div><h5>© Copyright YoYo Games Ltd. 2018 All Rights Reserved</h5>
<script type="text/javascript">
   (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){   (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),   m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)   })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');   ga('create', 'UA-2711665-14', 'auto');   ga('send', 'pageview'); 
</script>
</div>

<script type="text/JavaScript">
var fe = FindFrame("toc", top);
if ((fe != null) && (chmtop.c2wtopf.jstree != null)) {
  if (chmtop.c2wtopf.FITEMS[chmtop.c2wtopf.pagenum] != chmtop.c2wtopf.pageid)
    chmtop.c2wtopf.jstree.OpenTreeNode("source/" + chmtop.c2wtopf.pageid);
}
</script>
</body>
</html>
