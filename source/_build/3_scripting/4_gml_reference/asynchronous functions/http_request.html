<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="keywords" content="online documentation, web online help, web help, chm2web" />
<meta http-equiv="Content-Style-Type" content="text/css" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

<meta name="generator" content="chm2web Pro 2.85 (unicode)" />
<title>http_request</title>
<meta http-equiv="X-UA-Compatible" content="IE=9">
<link rel="stylesheet" href="../../../../../files/helpindex.css"
type="text/css">
<link rel="stylesheet" href="../../../../../default.css" type=
"text/css">

<script type="text/JavaScript" src="../../../../../files/supply.js"></script>
<script type="text/JavaScript">
chmtop.c2wtopf.pageid = "_build/3_scripting/4_gml_reference/asynchronous functions/http_request.html";
</script>

</head>
<body><script type="text/JavaScript"> 
if (window.name != "content") 
  document.write(" <table width=\"100%\" bgcolor=\"#e1e1e1\"cellspacing=\"2\" cellpadding=\"0\" style=\"border-collapse: collapse; font-family: sans-serif; font-size: 14px; color: #000000; text-decoration: none;  \"> <tr> <td align=\"center\" style=\"border-bottom: 2px solid gray\" > <br>&nbsp;Click <a href=\"../../../../../index.html?page=source%2F_build%2F3_scripting%2F4_gml_reference%2Fasynchronous%20functions%2Fhttp_request.html\">here</a> to show toolbars of the Web Online Help System: <a href=\"../../../../../index.html?page=source%2F_build%2F3_scripting%2F4_gml_reference%2Fasynchronous%20functions%2Fhttp_request.html\">show toolbars</a><br>&nbsp;</td></tr></table><br> "); 
</script>
<!-- !chm2web! --><script type="text/JavaScript">
 if( typeof(chmtop.helpStyle) != 'undefined' ) { var linkNodes = document.getElementsByTagName("link");  for( var i=0; i < linkNodes.length; ++i ) { var link = linkNodes[i];    if( link.href.endsWith("default.css")) {    var style = link.href.replace("default.css", chmtop.helpStyle); document.write('<link id="newstyleLink" rel="stylesheet" href=' + style + ' type="text/css">');    break; } } } 
</script><h2> http_anforderung </h2><div class="body-scroll"><p><br></p><h3> Beschreibung </h3><blockquote><p> Mit dieser Funktion können Sie eine HTTP-Headeranforderung erstellen, um die Betriebsparameter einer HTTP-Transaktion zu definieren, die für viele Zwecke verwendet werden kann, z. B. für die Authentifizierung über HTTP-Header, wenn Sie RESTful-APIs verwenden. Die Funktion erfordert, dass die vollständige IP-Adresse des Servers angefordert wird, sowie die Art der Anforderung (als Zeichenfolge, siehe Hinweis unten): <span class=
"notranslate">&quot;GET&quot;, &quot;HEAD&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;DELETE&quot;, &quot;TRACE&quot;, &quot;OPTIONS&quot;,</span> oder <span class="notranslate">&quot;CONNECT&quot;</span>. Sie müssen auch eine angeben <tt><a href=
"../data_structures/ds%20maps/index.html">ds_map</a></tt> von Schlüssel / Wert-Paaren (als Zeichenfolgen, wobei der Schlüssel das Headerfeld ist und der Wert die erforderlichen Daten für den Header ist), und das letzte Argument ist eine optionale Datenzeichenfolge, die Sie der Anforderung hinzufügen können, und falls diese nicht benötigt wird dann kann es entweder 0 oder eine leere Zeichenfolge &quot;&quot; sein. Beachten Sie, dass Sie auch einen Puffer senden können (weitere Informationen finden Sie im Abschnitt <a href="../buffers/index.html">Puffer</a> ). In diesem Fall wäre das letzte Argument das &quot;Handle&quot; des zu sendenden Puffers. </p><p> Dieses Ereignis generiert einen &quot;Rückruf&quot;, der von allen <a href=
"../../../2_interface/1_editors/events/async_events.html">HTTP-Ereignissen abgerufen</a> wird. In diesem Fall wird ein <a href=
"../../../2_interface/1_editors/events/async_events.html">Ereignis</a> generiert <a href=
"../data_structures/ds%20maps/index.html"><tt>ds_map</tt></a> (häufiger als &quot;Wörterbuch&quot; bezeichnet), das exklusiv für dieses Ereignis <b>verfügbar</b> ist und in der speziellen Variablen <b>async_load gespeichert wird</b>. Diese ds_map hat die folgenden zwei Schlüssel, die sich auf die Anforderungsfunktion beziehen: </p><blockquote><ul><li> <b><span class="notranslate">id</span>:</b> Die ID, die vom Befehl zurückgegeben wurde. Wenn Sie eine Reihe von feuern <tt>http_</tt> Wenn Sie also Anforderungen eingeben, müssen Sie wissen, auf welche Sie die Antwort erhalten, und daher würden Sie diesen Wert verwenden, um den Wert zu vergleichen, den Sie gespeichert haben, als Sie die Anfrage ursprünglich gesendet hatten, um den richtigen zu finden. </li><li style="list-style: none"><br></li><li> <b><span class="notranslate">response_headers</span>:</b> Wenn dieser Wert größer oder gleich 0 ist, enthält er eine ds_map, die die HTTP-Header enthält, die mit der Antwort auf die HTTP-Anforderung zurückgegeben werden. </li><li style="list-style: none"><br></li></ul></blockquote><div class="note"> <b>HINWEIS:</b> HTTP-Header folgen normalerweise dem Format &quot;key: value&quot;. Da GMS diese Paare jedoch aus der ds_map für Sie erstellt, ist es nicht erforderlich, den Doppelpunkt &quot;:&quot; in den Map-Schlüssel oder die Wertzeichenfolgen einzufügen. </div><div class="note"> <b>HINWEIS:</b> Wenn Sie einen Puffer für das body-Argument verwenden und sich die Puffersuchposition am Startpunkt (0) befindet, wird kein Body gesendet und der Puffer wird mit der Antwort des http-Aufrufs gefüllt. Ist die Puffersuchposition jedoch nicht Null, dann wird der Inhalt der Pufferzeichenfolge als Textkörper gesendet. </div><div class="note"> <b>ANMERKUNG:</b> Sie sollten wissen, dass aufgrund des XSS-Schutzes in Browsern Anforderungen an und Versuche zum Laden von Ressourcen aus verschiedenen Domänen blockiert werden und möglicherweise leere Ergebnisse zurückgeben. Weitere Informationen finden Sie im Abschnitt zu <a href="index.html">domänenübergreifenden Problemen</a>. </div></blockquote><p><br></p><h3> Syntax: </h3><p class="code">http_request(url, method, header_map, body);<span class="notranslate"></span></p><blockquote><table><tr><th> Streit </th><th> Beschreibung </th></tr><tr><td> <span class="notranslate">url</span> </td> <td> Die Webadresse des Servers, von dem Sie Informationen erhalten möchten </td></tr><tr class="alt"><td> <span class="notranslate">method</span> </td> <td> Die Anforderungsmethode (normalerweise &quot;POST&quot; oder &quot;GET&quot;, aber alle Methoden werden unterstützt) </td></tr><tr><td> <span class="notranslate">header_map</span> </td> <td> Eine ds_map mit den erforderlichen Headerfeldern </td></tr><tr class="alt"><td> <span class="notranslate">body</span> </td> <td> Die zu übertragenden Daten nach den Kopfzeilen (kann ein binärer Puffer-Handle sein) </td></tr></table></blockquote><p><br></p><h3> Kehrt zurück: </h3><p class="code">Real<span class="notranslate"></span></p><p><br></p><h3> Beispiel: </h3><p class="code">var map = ds_map_create();<br>
ds_map_add(map, "Host", "225.0.0.97:3000");<br>
ds_map_add(map, "Connection", "keep-alive");<br>
ds_map_add(map, "Content-Length", "169");<br>
ds_map_add(map, "Cache-Control", "max-age=0");<br>
ds_map_add(map, "Authorization", "Basic
eW95b19hZG1pbjpjNG5lZmllbGQ=");<br>
ds_map_add(map, "Accept",
"text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8");<br>

ds_map_add(map, "User-Agent", "Mozilla/5.0 (Windows NT 6.3; WOW64)
AppleWebKit/537.36 (KHTML, like Gecko) Chrome/31.0.1650.57
Safari/537.36");<br>
ds_map_add(map, "Content-Type",
"application/x-www-form-urlencoded");<br>
ds_map_add(map, "Accept-Encoding", "gzip,deflate,sdch");<br>
ds_map_add(map, "Accept-Language",
"en-GB,en-US;q=0.8,en;q=0.6");<br>
ds_map_add(map, "Cookie", "request_method=GET;
_InAppPurchases_session=69bb6ef6eec2b");<br>
var
data="utf8=%E2%9C%93&amp;authenticity_token=kPmS14DcYcuKgMFZUsN3XFfj3mhs%3D&amp;product%5Bname%5D=CatchTheHaggis&amp;product%5Bproduct_id%5D=http_test&amp;commit=Create+Product";<br>

request = http_request("http:225.0.0.97:3000/products", "POST",
map, data);<br><span class="notranslate"></span></p><blockquote><p> Der obige Code erstellt eine ds_map mit den entsprechenden HTTP-Headern für die Funktion und erstellt dann eine Datenzeichenfolge zur Verwendung, da dies eine POST-Anforderung ist. Zum Schluss wird die Funktion aufgerufen, deren ID-Wert in der Variablen &quot;request&quot; zum Einchecken des asynchronen HTTP-Ereignisses gespeichert wird. </p></blockquote><p><br></p></div><div class="footer"><div class="buttons"><div class="clear"><div style="float:left"> Zurück: <a href="index.html">Asynchrone Funktionen</a> </div><div style="float:right"> Weiter: <a href=
"http_get.html">http_get</a> </div></div></div><h5>© Copyright YoYo Games Ltd. 2018 All Rights Reserved</h5>
<script type="text/javascript">
   (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){   (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),   m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)   })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');   ga('create', 'UA-2711665-14', 'auto');   ga('send', 'pageview'); 
</script>
</div>

<script type="text/JavaScript">
var fe = FindFrame("toc", top);
if ((fe != null) && (chmtop.c2wtopf.jstree != null)) {
  if (chmtop.c2wtopf.FITEMS[chmtop.c2wtopf.pagenum] != chmtop.c2wtopf.pageid)
    chmtop.c2wtopf.jstree.OpenTreeNode("source/" + chmtop.c2wtopf.pageid);
}
</script>
</body>
</html>
